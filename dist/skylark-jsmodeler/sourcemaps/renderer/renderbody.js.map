{"version":3,"sources":["renderer/renderbody.js"],"names":["define","JSM","RenderBody","this","transformation","Transformation","meshes","prototype","AddMesh","mesh","undefined","material","type","push","EnumerateMeshes","onMeshFound","meshType","hasOwnProperty","EnumerateTypedMeshes","HasTypedMeshes","i","typedMeshes","length","EnumerateMeshesWithFlag","flag","GetTransformation","GetTransformationMatrix","matrix","SetTransformation","AppendTransformation","Append"],"mappings":";;;;;;;AAAAA,QAAQ,eAAe,SAASC,GA0E/B,OAzEAA,EAAIC,WAAa,WAEhBC,KAAKC,eAAiB,IAAIH,EAAII,eAC9BF,KAAKG,WAGNL,EAAIC,WAAWK,UAAUC,QAAU,SAAUC,QAEJC,IAApCP,KAAKG,OAAOG,EAAKE,SAASC,QAC7BT,KAAKG,OAAOG,EAAKE,SAASC,UAE3BT,KAAKG,OAAOG,EAAKE,SAASC,MAAMC,KAAMJ,IAGvCR,EAAIC,WAAWK,UAAUO,gBAAkB,SAAUC,GAEpD,IAAIC,EACJ,IAAKA,KAAYb,KAAKG,OACjBH,KAAKG,OAAOW,eAAgBD,IAC/Bb,KAAKe,qBAAsBF,EAAUD,IAKxCd,EAAIC,WAAWK,UAAUY,eAAiB,SAAUH,GAEnD,YAAiCN,IAA1BP,KAAKG,OAAOU,IAGpBf,EAAIC,WAAWK,UAAUW,qBAAuB,SAAUF,EAAUD,GAEnE,GAAKZ,KAAKgB,eAAgBH,GAA1B,CAIA,IACII,EADAC,EAAclB,KAAKG,OAAOU,GAE9B,IAAKI,EAAI,EAAGA,EAAIC,EAAYC,OAAQF,IAEnCL,EADYM,EAAYD,MAK1BnB,EAAIC,WAAWK,UAAUgB,wBAA0B,SAAUC,EAAMT,GAElE,IAAIC,EACJ,IAAKA,KAAYb,KAAKG,OACjBH,KAAKG,OAAOW,eAAgBD,IAAcA,EAAWQ,GACxDrB,KAAKe,qBAAsBF,EAAUD,IAKxCd,EAAIC,WAAWK,UAAUkB,kBAAoB,WAE5C,OAAOtB,KAAKC,gBAGbH,EAAIC,WAAWK,UAAUmB,wBAA0B,WAElD,OAAOvB,KAAKC,eAAeuB,QAG5B1B,EAAIC,WAAWK,UAAUqB,kBAAoB,SAAUxB,GAEtDD,KAAKC,eAAiBA,GAGvBH,EAAIC,WAAWK,UAAUsB,qBAAuB,SAAUzB,GAEzDD,KAAKC,eAAe0B,OAAQ1B,IAGtBH","file":"../../renderer/renderbody.js","sourcesContent":["define([\"../core/jsm\"],function(JSM){\n\tJSM.RenderBody = function ()\n\t{\n\t\tthis.transformation = new JSM.Transformation ();\n\t\tthis.meshes = {};\n\t};\n\n\tJSM.RenderBody.prototype.AddMesh = function (mesh)\n\t{\n\t\tif (this.meshes[mesh.material.type] === undefined) {\n\t\t\tthis.meshes[mesh.material.type] = [];\n\t\t}\n\t\tthis.meshes[mesh.material.type].push (mesh);\n\t};\n\n\tJSM.RenderBody.prototype.EnumerateMeshes = function (onMeshFound)\n\t{\n\t\tvar meshType;\n\t\tfor (meshType in this.meshes) {\n\t\t\tif (this.meshes.hasOwnProperty (meshType)) {\n\t\t\t\tthis.EnumerateTypedMeshes (meshType, onMeshFound);\n\t\t\t}\n\t\t}\n\t};\n\n\tJSM.RenderBody.prototype.HasTypedMeshes = function (meshType)\n\t{\n\t\treturn this.meshes[meshType] !== undefined;\n\t};\n\n\tJSM.RenderBody.prototype.EnumerateTypedMeshes = function (meshType, onMeshFound)\n\t{\n\t\tif (!this.HasTypedMeshes (meshType)) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar typedMeshes = this.meshes[meshType];\n\t\tvar\ti, typedMesh;\n\t\tfor\t(i = 0; i < typedMeshes.length; i++) {\n\t\t\ttypedMesh = typedMeshes[i];\n\t\t\tonMeshFound (typedMesh);\n\t\t}\n\t};\n\n\tJSM.RenderBody.prototype.EnumerateMeshesWithFlag = function (flag, onMeshFound)\n\t{\n\t\tvar meshType;\n\t\tfor (meshType in this.meshes) {\n\t\t\tif (this.meshes.hasOwnProperty (meshType) && (meshType & flag)) {\n\t\t\t\tthis.EnumerateTypedMeshes (meshType, onMeshFound);\n\t\t\t}\n\t\t}\n\t};\n\n\tJSM.RenderBody.prototype.GetTransformation = function ()\n\t{\n\t\treturn this.transformation;\n\t};\n\n\tJSM.RenderBody.prototype.GetTransformationMatrix = function ()\n\t{\n\t\treturn this.transformation.matrix;\n\t};\n\n\tJSM.RenderBody.prototype.SetTransformation = function (transformation)\n\t{\n\t\tthis.transformation = transformation;\n\t};\n\n\tJSM.RenderBody.prototype.AppendTransformation = function (transformation)\n\t{\n\t\tthis.transformation.Append (transformation);\n\t};\n\n\treturn JSM;\n});\n"]}